<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <textarea id="input-text"></textarea>
    <button class="translate-button" onclick="translateText()">Translate</button>
    <div id="output-text"></div>
    <script>
      function translateText() {
        const inputText = document.getElementById("input-text").value;
        var requestBody = [{
          "text": inputText
        }];

        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        myHeaders.append("Access-Control-Allow-Origin", "*");
        myHeaders.append("Access-Control-Allow-Origin", "Origin, X-Requested-With, Content-Type, Accept");

        var raw = JSON.stringify({
          "text": inputText
        });

        var requestOptions = {
          method: 'POST',
          headers: myHeaders,
          body: raw,
          redirect: 'follow'
        };

        fetch("http://translator.westeurope.cloudapp.azure.com:80/translator/", requestOptions)
          .then(response => response.text())
          .then((result) => {
            const json = JSON.parse(result)
            console.log(result)
            document.getElementById("output-text").innerHTML = json.translation
          })
          .catch(error => console.log('error', error));
        
      }
    </script>
  </body>
</html>
